export const BOT_MESSAGES = {
  en: {
    hello: "Hi! I'm your MindFulness AI companion. I'm here to listen, support, and help you with your mental wellness journey. How are you feeling today?",
    placeholder: "Type a message...",
    nudge: "Need someone to talk to? I'm here 24/7 to listen and support you!",
    crisis: "If you're feeling unsafe or having thoughts of self-harm, please tap Crisis Alert or call your local emergency helpline immediately.",
    help: "You can explore our Self-Help Center for guided exercises, connect with Peer Support, or book a session with a professional Counselor.",
    breathe: "Feeling anxious? Try our guided breathing exercises in Self Help → Quick Meditation. It's just 3 minutes and very effective!",
    sleep: "Having trouble sleeping? Check out our Sleep Hygiene tips in the Self Help section.",
    stress: "Feeling stressed? Try our calming sounds or meditation exercises. They're designed to help you relax and find peace.",
    assessment: "Want to understand your mental health better? Take our comprehensive assessment in the Assessment section.",
    default: "Thank you for sharing that with me. I'm here to listen and support you. Is there anything specific you'd like help with today?",
  },
  hi: {
    hello: "नमस्ते! मैं आपका MindFulness AI साथी हूँ। मैं आपके मानसिक स्वास्थ्य की यात्रा में सुनने, समर्थन देने और मदद करने के लिए यहाँ हूँ। आज आप कैसा महसूस कर रहे हैं?",
    placeholder: "यहाँ अपना संदेश लिखें...",
    nudge: "किसी से बात करने की जरूरत है? मैं 24/7 आपकी बात सुनने और आपका समर्थन करने के लिए यहाँ हूँ!",
    crisis: "यदि आप असुरक्षित महसूस कर रहे हैं या आत्म-हानि के विचार आ रहे हैं, कृपया तुरंत Crisis Alert दबाएँ या अपने स्थानीय आपातकालीन हेल्पलाइन पर कॉल करें।",
    help: "आप हमारे Self-Help Center में मार्गदर्शित अभ्यासों का पता लगा सकते हैं, Peer Support से जुड़ सकते हैं, या एक पेशेवर Counselor के साथ सत्र बुक कर सकते हैं।",
    breathe: "चिंतित महसूस कर रहे हैं? Self Help → Quick Meditation में हमारे मार्गदर्शित श्वास अभ्यास आज़माएँ। यह सिर्फ 3 मिनट का है और बहुत प्रभावी है!",
    sleep: "नींद की परेशानी हो रही है? Self Help सेक्शन में हमारे Sleep Hygiene टिप्स देखें।",
    stress: "तनाव महसूस कर रहे हैं? हमारी शांत करने वाली आवाज़ें या ध्यान अभ्यास आज़माएँ। ये आपको आराम और शांति पाने में मदद करने के लिए डिज़ाइन किए गए हैं।",
    assessment: "अपने मानसिक स्वास्थ्य को बेहतर समझना चाहते हैं? Assessment सेक्शन में हमारा व्यापक मूल्यांकन करें।",
    default: "मुझसे यह साझा करने के लिए धन्यवाद। मैं यहाँ आपकी बात सुनने और आपका समर्थन करने के लिए हूँ। क्या आज आपको किसी विशेष चीज़ में मदद चाहिए?",
  },
  ta: {
    hello: "வணக்கம்! நான் உங்கள் MindFulness AI தோழன். உங்கள் மன ஆரோக்கிய பயணத்தில் கேட்பதற்கும், ஆதரிப்பதற்கும், உதவுவதற்கும் நான் இங்கே இருக்கிறேன். இன்று நீங்கள் எப்படி உணர்கிறீர்கள்?",
    placeholder: "உங்கள் செய்தியை இங்கே தட்டச்சு செய்யவும்...",
    nudge: "யாருடனாவது பேச வேண்டுமா? நான் 24/7 கேட்பதற்கும் உங்களை ஆதரிப்பதற்கும் இங்கே இருக்கிறேன்!",
    crisis: "நீங்கள் பாதுகாப்பற்றவராக உணர்கிறீர்கள் அல்லது சுய-தீங்கு குறித்த எண்ணங்கள் வருகின்றன என்றால், உடனடியாக Crisis Alert ஐ அழுத்தவும் அல்லது உங்கள் உள்ளூர் அவசர உதவி எண்ணை அழைக்கவும்.",
    help: "உங்களின் வழிகாட்டப்பட்ட பயிற்சிகளுக்கு எங்கள் Self-Help Center ஐ ஆராயலாம், Peer Support உடன் இணையலாம், அல்லது ஒரு தொழில்முறை Counselor உடன் ஒரு அமர்வை பதிவு செய்யலாம்.",
    breathe: "கவலைப்படுகிறீர்களா? எங்கள் வழிகாட்டப்பட்ட சுவாச பயிற்சிகளை Self Help → Quick Meditation இல் முயற்சிக்கவும். இது வெறும் 3 நிமிடங்கள் மற்றும் மிகவும் பயனுள்ளது!",
    sleep: "தூக்கம் வருவதில் பிரச்சினை இருக்கிறதா? எங்கள் தூக்க சுகாதார குறிப்புகளை Self Help பிரிவில் பார்க்கவும்.",
    stress: "மன அழுத்தம் உணர்கிறீர்களா? எங்கள் அமைதி கொடுக்கும் ஒலிகள் அல்லது தியான பயிற்சிகளை முயற்சிக்கவும். இவை உங்களை ஓய்வெடுக்கவும் அமைதியைக் கண்டறியவும் உதவ வடிவமைக்கப்பட்டவை.",
    assessment: "உங்கள் மன ஆரோக்கியத்தை சிறப்பாக புரிந்துகொள்ள விரும்புகிறீர்களா? Assessment பிரிவில் எங்கள் விரிவான மதிப்பீட்டை எடுக்கவும்.",
    default: "என்னுடன் இதைப் பகிர்ந்ததற்கு நன்றி. நான் உங்களைக் கேட்பதற்கும் ஆதரிப்பதற்கும் இங்கே இருக்கிறேன். இன்று உங்களுக்கு எதாவது குறிப்பிட்ட உதவி தேவையா?",
  },
  te: {
    hello: "నమస్కారం! నేను మీ MindFulness AI సహచరుడిని. మీ మానసిక ఆరోగ్య ప్రయాణంలో వినడానికి, మద్దతు ఇవ్వడానికి మరియు సహాయం చేయడానికి నేను ఇక్కడ ఉన్నాను. ఈరోజు మీరు ఎలా అనుభవిస్తున్నారు?",
    placeholder: "మీ సందేశాన్ని ఇక్కడ టైప్ చేయండి...",
    nudge: "ఎవరితోనైనా మాట్లాడాల్సిన అవసరం ఉందా? మీరు వినడానికి మరియు మద్దతు ఇవ్వడానికి నేను 24/7 ఇక్కడ ఉన్నాను!",
    crisis: "మీరు అసురక్షితంగా అనుభవిస్తున్నారు లేదా స్వీయ-హాని గురించి ఆలోచనలు వస్తున్నాయి అయితే, దయచేసి వెంటనే Crisis Alert ని నొక్కండి లేదా మీ స్థానిక అత్యవసర సహాయ లైన్‌ను కాల్ చేయండి.",
    help: "మా Self-Help Center లో మార్గదర్శక వ్యాయామాలను అన్వేషించవచ్చు, Peer Support తో కనెక్ట్ అవ్వవచ్చు, లేదా వృత్తిపరమైన Counselor తో సెషన్‌ను బుక్ చేయవచ్చు.",
    breathe: "ఆందోళన చెందుతున్నారా? మా మార్గదర్శక శ్వాస వ్యాయామాలను Self Help → Quick Meditation లో ప్రయత్నించండి. ఇది కేవలం 3 నిమిషాలు మరియు చాలా ప్రభావవంతంగా ఉంటుంది!",
    sleep: "నిద్ర రాకుండా ఉందా? Self Help సెక్షన్‌లో మా Sleep Hygiene చిట్కాలను చూడండి.",
    stress: "ఒత్తిడి అనుభవిస్తున్నారా? మా శాంతి ఇచ్చే శబ్దాలు లేదా ధ్యాన వ్యాయామాలను ప్రయత్నించండి. ఇవి మీరు విశ్రాంతి తీసుకోవడానికి మరియు శాంతిని కనుగొనడానికి సహాయపడటానికి రూపొందించబడ్డాయి.",
    assessment: "మీ మానసిక ఆరోగ్యాన్ని బాగా అర్థం చేసుకోవాలనుకుంటున్నారా? Assessment సెక్షన్‌లో మా సమగ్ర అంచనాను తీసుకోండి.",
    default: "నాతో దీన్ని పంచుకున్నందుకు ధన్యవాదాలు. నేను మీరు వినడానికి మరియు మద్దతు ఇవ్వడానికి ఇక్కడ ఉన్నాను. ఈరోజు మీకు ఏదైనా ప్రత్యేక సహాయం కావాలా?",
  },
  bn: {
    hello: "নমস্কার! আমি আপনার MindFulness AI সঙ্গী। আমি আপনার মানসিক স্বাস্থ্যের যাত্রায় শোনার, সমর্থন দেওয়ার এবং সাহায্য করার জন্য এখানে আছি। আজ আপনি কেমন অনুভব করছেন?",
    placeholder: "এখানে আপনার বার্তা টাইপ করুন...",
    nudge: "কারো সাথে কথা বলার প্রয়োজন আছে? আমি 24/7 শোনার এবং আপনাকে সমর্থন দেওয়ার জন্য এখানে আছি!",
    crisis: "আপনি যদি অসুরক্ষিত অনুভব করেন বা আত্ম-ক্ষতির চিন্তা আসে, অনুগ্রহ করে অবিলম্বে Crisis Alert টিপুন অথবা আপনার স্থানীয় জরুরি হেল্পলাইন কল করুন।",
    help: "আপনি আমাদের Self-Help Center এ নির্দেশিত ব্যায়ামগুলি অন্বেষণ করতে পারেন, Peer Support এর সাথে সংযোগ করতে পারেন, বা একজন পেশাদার Counselor এর সাথে সেশন বুক করতে পারেন।",
    breathe: "উদ্বিগ্ন অনুভব করছেন? আমাদের নির্দেশিত শ্বাস-প্রশ্বাসের ব্যায়াম Self Help → Quick Meditation এ চেষ্টা করুন। এটি মাত্র 3 মিনিট এবং খুবই কার্যকর!",
    sleep: "ঘুমের সমস্যা হচ্ছে? Self Help বিভাগে আমাদের Sleep Hygiene টিপস দেখুন।",
    stress: "চাপ অনুভব করছেন? আমাদের শান্ত করার শব্দ বা ধ্যানের ব্যায়াম চেষ্টা করুন। এগুলি আপনাকে বিশ্রাম নেওয়ার এবং শান্তি খুঁজে পেতে সাহায্য করার জন্য ডিজাইন করা হয়েছে।",
    assessment: "আপনার মানসিক স্বাস্থ্যকে আরও ভালোভাবে বুঝতে চান? Assessment বিভাগে আমাদের ব্যাপক মূল্যায়ন নিন।",
    default: "আমার সাথে এটি শেয়ার করার জন্য ধন্যবাদ। আমি এখানে আপনার কথা শোনার এবং আপনাকে সমর্থন দেওয়ার জন্য আছি। আজ আপনার কি কোন বিশেষ সাহায্যের প্রয়োজন আছে?",
  },
  kn: {
    hello: "ನಮಸ್ಕಾರ! ನಾನು ನಿಮ್ಮ MindFulness AI ಸಹಚರ. ನಿಮ್ಮ ಮಾನಸಿಕ ಆರೋಗ್ಯ ಪ್ರಯಾಣದಲ್ಲಿ ಕೇಳಲು, ಬೆಂಬಲಿಸಲು ಮತ್ತು ಸಹಾಯ ಮಾಡಲು ನಾನು ಇಲ್ಲಿದ್ದೇನೆ. ಇಂದು ನೀವು ಹೇಗೆ ಅನುಭವಿಸುತ್ತಿದ್ದೀರಿ?",
    placeholder: "ಇಲ್ಲಿ ನಿಮ್ಮ ಸಂದೇಶವನ್ನು ಟೈಪ್ ಮಾಡಿ...",
    nudge: "ಯಾರಾದರೂ ಮಾತನಾಡಲು ಅಗತ್ಯವಿದೆಯೇ? ಕೇಳಲು ಮತ್ತು ನಿಮಗೆ ಬೆಂಬಲಿಸಲು ನಾನು 24/7 ಇಲ್ಲಿದ್ದೇನೆ!",
    crisis: "ನೀವು ಅಸುರಕ್ಷಿತವಾಗಿ ಅನುಭವಿಸುತ್ತಿದ್ದರೆ ಅಥವಾ ಸ್ವ-ಹಾನಿಯ ಬಗ್ಗೆ ಆಲೋಚನೆಗಳು ಬಂದರೆ, ದಯವಿಟ್ಟು ತಕ್ಷಣ Crisis Alert ಒತ್ತಿ ಅಥವಾ ನಿಮ್ಮ ಸ್ಥಳೀಯ ತುರ್ತು ಸಹಾಯ ಸಾಲಿನ್ ಕರೆ ಮಾಡಿ.",
    help: "ನಿಮ್ಮ ಮಾರ್ಗದರ್ಶಿತ ವ್ಯಾಯಾಮಗಳಿಗಾಗಿ ನಮ್ಮ Self-Help Center ಅನ್ನು ಅನ್ವೇಷಿಸಬಹುದು, Peer Support ನೊಂದಿಗೆ ಸಂಪರ್ಕಿಸಬಹುದು, ಅಥವಾ ವೃತ್ತಿಪರ Counselor ನೊಂದಿಗೆ ಸೆಷನ್ ಬುಕ್ ಮಾಡಬಹುದು.",
    breathe: "ಆತಂಕ ಅನುಭವಿಸುತ್ತಿದ್ದೀರಾ? Self Help → Quick Meditation ನಲ್ಲಿ ನಮ್ಮ ಮಾರ್ಗದರ್ಶಿತ ಉಸಿರಾಟದ ವ್ಯಾಯಾಮಗಳನ್ನು ಪ್ರಯತ್ನಿಸಿ. ಇದು ಕೇವಲ 3 ನಿಮಿಷಗಳು ಮತ್ತು ಬಹಳ ಪರಿಣಾಮಕಾರಿ!",
    sleep: "ನಿದ್ರೆಯ ಸಮಸ್ಯೆ ಇದೆಯೇ? Self Help ವಿಭಾಗದಲ್ಲಿ ನಮ್ಮ Sleep Hygiene ಸಲಹೆಗಳನ್ನು ನೋಡಿ.",
    stress: "ಒತ್ತಡ ಅನುಭವಿಸುತ್ತಿದ್ದೀರಾ? ನಮ್ಮ ಶಾಂತಿ ತರುವ ಶಬ್ದಗಳು ಅಥವಾ ಧ್ಯಾನ ವ್ಯಾಯಾಮಗಳನ್ನು ಪ್ರಯತ್ನಿಸಿ. ಇವುಗಳನ್ನು ನೀವು ವಿಶ್ರಾಂತಿ ಪಡೆಯಲು ಮತ್ತು ಶಾಂತಿಯನ್ನು ಕಂಡುಹಿಡಿಯಲು ಸಹಾಯ ಮಾಡಲು ವಿನ್ಯಾಸಗೊಳಿಸಲಾಗಿದೆ.",
    assessment: "ನಿಮ್ಮ ಮಾನಸಿಕ ಆರೋಗ್ಯವನ್ನು ಉತ್ತಮವಾಗಿ ಅರ್ಥಮಾಡಿಕೊಳ್ಳಲು ಬಯಸುತ್ತೀರಾ? Assessment ವಿಭಾಗದಲ್ಲಿ ನಮ್ಮ ಸಮಗ್ರ ಮೌಲ್ಯಮಾಪನವನ್ನು ತೆಗೆದುಕೊಳ್ಳಿ.",
    default: "ನನ್ನೊಂದಿಗೆ ಇದನ್ನು ಹಂಚಿಕೊಂಡಿದ್ದಕ್ಕಾಗಿ ಧನ್ಯವಾದಗಳು. ನಾನು ಇಲ್ಲಿ ನಿಮ್ಮ ಮಾತು ಕೇಳಲು ಮತ್ತು ನಿಮಗೆ ಬೆಂಬಲಿಸಲು ಇದ್ದೇನೆ. ಇಂದು ನಿಮಗೆ ಯಾವುದೇ ವಿಶೇಷ ಸಹಾಯ ಬೇಕೇ?",
  },
};

const INTENTS = [
  { key: 'crisis', patterns: [/suicid|hurt|unsafe|danger|kill|die/i, /आत्महत्या|खतरा|असुरक्षित|मरना/i, /அபாயம்|தொல்லை|சாவு/i, /ప్రమాదం|ఆత్మహత్య|మరణం/i, /আত্মহত্যা|বিপদ|মৃত্যু/i, /ಆತ್ಮಹತ್ಯೆ|ಅಪಾಯ|ಅಸುರಕ್ಷಿತ|ಮರಣ/i] },
  { key: 'help', patterns: [/help|support|assist|guidance/i, /मदद|सहायता|मार्गदर्शन/i, /உதவி|வழிகாட்டுதல்/i, /సహాయం|మార్గదర్శకత్వం/i, /সাহায্য|গাইডেন্স/i, /ಸಹಾಯ|ಮಾರ್ಗದರ್ಶನ/i] },
  { key: 'breathe', patterns: [/anx|anxiety|panic|breathe|calm/i, /घबराहट|सांस|शांत/i, /பதட்டம்|மூச்சு|அமைதி/i, /ఆందోళన|ఊపిరి|శాంతి/i, /উদ্বেগ|শ্বাস|শান্ত/i, /ಆತಂಕ|ಉಸಿರಾಟ|ಶಾಂತಿ/i] },
  { key: 'sleep', patterns: [/sleep|insomnia|tired|exhausted/i, /नींद|थकान|थका/i, /தூக்கம்|களைப்பு/i, /నిద్ర|అలసట/i, /ঘুম|ক্লান্তি/i, /ನಿದ್ರೆ|ಅಲಸತೆ/i] },
  { key: 'stress', patterns: [/stress|pressure|overwhelm|burden/i, /तनाव|दबाव|भार/i, /மன அழுத்தம்|சுமை/i, /ఒత్తిడి|పీడనం/i, /চাপ|ভার/i, /ಒತ್ತಡ|ಭಾರ/i] },
  { key: 'assessment', patterns: [/test|assessment|evaluate|check/i, /परीक्षा|मूल्यांकन|जांच/i, /சோதனை|மதிப்பீடு/i, /పరీక్ష|మూల్యాంకనం/i, /পরীক্ষা|মূল্যায়ন/i, /ಪರೀಕ್ಷೆ|ಮೌಲ್ಯಮಾಪನ/i] },
];

export function detectLanguage(text) {
  // Very naive detection for demo
  if (/[\u0B80-\u0BFF]/.test(text)) return 'ta'; // Tamil
  if (/[\u0C00-\u0C7F]/.test(text)) return 'te'; // Telugu
  if (/[\u0980-\u09FF]/.test(text)) return 'bn'; // Bengali
  if (/[\u0C80-\u0CFF]/.test(text)) return 'kn'; // Kannada
  if (/[अ-ह]/.test(text)) return 'hi'; // Hindi
  return 'en'; // Default to English
}

export function replyFor(text, lang = 'en') {
  const pack = BOT_MESSAGES[lang] || BOT_MESSAGES.en;
  if (!text.trim()) return pack.default;
  for (const intent of INTENTS) {
    if (intent.patterns.some(p => p.test(text))) return pack[intent.key] || pack.default;
  }
  return pack.default;
}